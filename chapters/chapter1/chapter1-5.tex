\section{Cardinality}

\begin{exercise}
  Finish the following proof for Theorem 1.5.7.
  Assume $B$ is a countable set. Thus, there exists $f: \mathbf{N} \rightarrow B$, which is $1-1$ and onto. Let $A \subseteq B$ be an infinite subset of $B$. We must show that $A$ is countable.

  Let $n_{1}=\min \{n \in \mathbf{N}: f(n) \in A\}$.
  As a start to a definition of $g: \mathbf{N} \rightarrow A$ set $g(1)=f\left(n_{1}\right)$.
  Show how to inductively continue this process to produce a 1-1 function $g$ from $\mathbf{N}$ onto $A$.
\end{exercise}

\begin{solution}
  Let $n_k = \min\{n \in \mathbf N \mid f(n) \in A, n \notin \{n_1, n_2, \dots, n_{k-1}\}\}$
  and $g(k) = f(n_k)$. since $g : \mathbf N \to A$ is 1-1 and onto, $A$ is countable.
\end{solution}

\begin{exercise}
  Review the proof of Theorem 1.5.6, part (ii) showing that $\mathbf{R}$ is uncountable, and then find the flaw in the following erroneous proof that $\mathbf{Q}$ is uncountable:

  Assume, for contradiction, that $\mathbf{Q}$ is countable. Thus we can write $\mathbf{Q}=$ $\left\{r_{1}, r_{2}, r_{3}, \ldots\right\}$ and, as before, construct a nested sequence of closed intervals with $r_{n} \notin I_{n}$. Our construction implies $\bigcap_{n=1}^{\infty} I_{n}=\emptyset$ while NIP implies $\bigcap_{n=1}^{\infty} I_{n} \neq$ $\emptyset$. This contradiction implies Q must therefore be uncountable.
\end{exercise}

\begin{solution}
  The nested interval property is not true for $\mathbf{Q}$. Consider $I_n$ being rational bounds for $\sqrt2$ with $n$ decimal places, then $\bigcap_{n=1}^\infty I_n = \emptyset$ since $\sqrt2 \notin \mathbf{Q}$.
\end{solution}

\begin{exercise}\label{ex:countable_union}
  \enum{
  \item Prove if $A_1, \dots, A_m$ are countable sets then $A_1 \cup \dots \cup A_m$ is countable.
  \item Explain why induction \emph{cannot} be used to prove that if each $A_n$ is countable, then $\bigcup_{n=1}^\infty A_n$ is countable.
  \item Show how arranging $\mathbf{N}$ into the two-dimensional array
  $$\begin{array}{llllll}1 & 3 & 6 & 10 & 15 & \cdots \\ 2 & 5 & 9 & 14 & \cdots & \\ 4 & 8 & 13 & \cdots & & \\ 7 & 12 & \cdots & & & \\ 11 & \cdots & & & & \\ \vdots & & & & & \end{array}$$
  leads to a proof for the infinite case.
}
\end{exercise}

\begin{solution}
  \enum{
  \item Let $B, C$ be disjoint countable sets. We use the same trick as with the integers and list them as
    $$B \cup C = \{b_1, c_1, b_2, c_2, \dots\}$$
    Meaning $B \cup C$ is countable, and $A_1 \cup A_2$ is also countable since we can let $B = A_1$ and $C = A_2 \setminus A_1$.

    Now induction: suppose $A_1 \cup \dots \cup A_n$ is countable, $\left(A_1 \cup \dots \cup A_n\right) \cup A_{n+1}$ is the union of two countable sets which by above is countable.
  \item Induction shows something for each $n \in \mathbf{N}$, it does not apply in the infinite case.
  \item Rearranging $\mathbf{N}$ as in (c) gives us disjoint sets $C_n$ such that $\bigcup_{n=1}^\infty C_n = \mathbf{N}$.
    Let $B_n$ be disjoint, constructed as $B_1 = A_1, B_2 = A_1 \setminus B_1, \dots$ we want to do something like

    $$f(\mathbf{N}) = f\left(\bigcup_{n=1}^\infty C_n\right) = \bigcup_{n=1}^\infty f_n(C_n) = \bigcup_{n=1}^\infty B_n = \bigcup_{n=1}^\infty A_n$$
    Let $f_n : C_n \to B_n$ be bijective since $B_n$ is countable, define $f : \mathbf{N} \to \bigcup_{n=1}^\infty B_n$ as
    $$
    f(n) = \begin{cases}
      f_1(n) &\text{if } n \in C_1 \\
      f_2(n) &\text{if } n \in C_2 \\
      \vdots
    \end{cases}
    $$
    \enumr{
      \item Since each $C_n$ is disjoint and each $f_n$ is 1-1, $f(n_1) = f(n_2)$ implies $n_1 = n_2$ meaning $f$ is 1-1.
      \item Since any $b \in \bigcup_{n=1}^\infty B_n$ has $b \in B_n$ for some $n$, we know $b = f_n(x)$ has a solution since $f_n$ is onto. Letting $x = f_{n}^{-1}(b)$ we have $f(x) = f_n(x) = b$ since $f_n^{-1}(b) \in C_n$ meaning $f$ is onto.
      }
      By (i) and (ii) $f$ is bijective and so $\bigcup_{n=1}^\infty B_n$ is countable. And since
      $$\bigcup_{n=1}^\infty B_n = \bigcup_{n=1}^\infty A_n$$
      We have that $\bigcup_{n=1}^\infty A_n$ is countable, completing the proof.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Show $(a, b) \sim \mathbf{R}$ for any interval $(a, b)$.
  \item Show that an unbounded interval like $(a, \infty)=\{x: x>a\}$ has the same cardinality as $\mathbf{R}$ as well.
  \item Using open intervals makes it more convenient to produce the required 1-1, onto functions, but it is not really necessary. Show that $[0,1) \sim(0,1)$ by exhibiting a 1-1 onto function between the two sets.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item We will start by finding $f : (-1, 1) \to \mathbf{R}$ and then transform it to $(a, b)$. Example 1.5.4 gives a suitable $f$
    $$
    f(x) = \frac{x}{x^2 - 1}
    $$
    The book says to use calculus to show $f$ is bijective, first we will examine the derivative
    $$
    f'(x) = \frac{x^2 - 1 - 2x^2}{(x^2 - 1)^2} = - \frac{x^2 + 1}{(x^2 - 1)^2}
    $$
    The denominator and numerator are positive, so $f'(x) < 0$ forall $x \in (0,1)$.
    This means no two inputs will be mapped to the same output, meaning $f$ is one to one (a rigorous proof is beyond our current ability)

    To show that $f$ is onto, we examine the limits
    $$
    \begin{aligned}
      \lim_{x \to 1^{-}} \frac{x}{x^2 - 1} &= - \infty \\
      \lim_{x \to {-1}^{+}} \frac{x}{x^2 - 1} &= + \infty
    \end{aligned}
    $$
    Then use the intermediate value theorem to conclude $f$ is onto.

    Now we shift $f$ to the interval $(a, b)$
    $$
    g(x) = f\left(\frac{2x - 1}{b - a} - a\right)
    $$
    Proving $g(x)$ is also bijective is a straightforward application of the chain rule.
  \item We want a bijective $h(x)$ such that $h(x) : (a, \infty) \to (-1, 1)$ because then we could compose them to get a new bijective function $f(h(x)) : (a, \infty) \to \mathbf{R}$.

    Let
    $$
    h(x) = \frac{2}{x - a + 1} - 1
    $$
    We have $h : (a, \infty) \to (1, -1)$ since $h(a) = 1$ and $\lim_{x \to \infty} h(x) = 1$.

    Meaning that $f(h(x)) : (a, \infty) \to \mathbf{R}$ is our bijective map.
  \item With countable sets adding a single element doesn't change cardinality since we can just shift by one to get a bijective map. we'll use a similar technique here to essentially outrun our problems. Define $f : [0,1) \to (0,1)$ as
    $$
    f(x) = \begin{cases}
      1/2 &\text{if } {x=0} \\
      1/4 &\text{if } {x=1/2} \\
      1/8 &\text{if } {x=1/4} \\
      \vdots \\
      x &\text{otherwise}
    \end{cases}
    $$
    Now we prove $f$ is bijective by showing $y = f(x)$ has exactly one solution for all $y \in (0,1)$.

    If $y = 1/2^n$ then the only solution is $y = f(1/2^{n-1})$ (or $x=0$ in the special case $n=1$),
    If $y \ne 1/2^n$ then the only solution is $y = f(y)$.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Why is $A \sim A$ for every set $A$?
  \item Given sets $A$ and $B$, explain why $A \sim B$ is equivalent to asserting $B \sim A$.
  \item For three sets $A, B$, and $C$, show that $A \sim B$ and $B \sim C$ implies $A \sim C$.
    These three properties are what is meant by saying that $\sim$ is an \emph{equivalence relation}.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item The identity function $f(x) = x$ is a bijection
  \item If $f : A \to B$ is bijective then $f^{-1} : B \to A$ is bijective.
  \item Let $f : A \to B$ and $g : B \to C$, since $g \circ f : A \to C$ is bijective we have $A \sim C$.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Give an example of a countable collection of disjoint open intervals.
  \item Give an example of an uncountable collection of disjoint open intervals, or argue that no such collection exists.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $I_1 = (0, 1)$, $I_2 = (1, 2)$ and in general $I_n = (n-1, n)$
  \item Let $A$ denote this set. Intuitively no such collection should exist since each $I_n$ has nonzero length.

    The key here is to try and show $A \sim \mathbf{Q}$ instead of directly showing $A \sim \mathbf{N}$.

    For any nonempty interval $I_n$ the density theorem tells us there exists an $r \in \mathbf{Q}$ such that $r \in I_n$.
    Assigning each $I \in A$ a rational number $r \in I$ proves $I \subseteq \mathbf{Q}$ and thus $I$ is countable.
  }
\end{solution}

\begin{exercise}
  Consider the open interval $(0,1)$, and let $S$ be the set of points in the open unit square; that is, $S=\{(x, y): 0<x, y<1\}$.
  \enum{
  \item Find a 1-1 function that maps $(0,1)$ into, but not necessarily onto, $S$. (This is easy.)
  \item Use the fact that every real number has a decimal expansion to produce a $1-1$ function that maps $S$ into $(0,1)$. Discuss whether the formulated function is onto. (Keep in mind that any terminating decimal expansion such as $.235$ represents the same real number as $.234999 \ldots .$)
  }

  The SchrÃ¶der-Bernstein Theorem discussed in Exercise 1.5.11 can now be applied to conclude that $(0,1) \sim S$.
\end{exercise}

\begin{solution}
  \enum{
  \item We scale and shift up into the square. $f(x) = \frac 12 x + \frac 13$
  \item Let $g : S \to (0, 1)$ be a function that interleaves decimals in the representation without trailing nines, padding with zeros if necessary. $g(0.32, 0.45) = 0.3425$, $g(0.1\bar 9, 0.2) = g(0.2, 0.2) = 0.22$, $g(0.1, 0.23) = 0.1203$, $g(0.1, 0.\bar 2) = 0.12\overline{02}$, etc.

    Every real number can be written with two digit representations, one with trailing 9's and one without.
    However $g(x, y) = 0.d_1d_2\dots\bar9$ is impossible since it would imply $x = 0.d_1\dots\bar9$ and $y = 0.d_2\dots\bar9$ but the definition of $g$ forbids this.
    therefore $g(s)$ is unique, and so $g$ is 1-1.

    Is $g$ onto? No since $g(x, y) = 0.1$ has no solutions, since we would want $x = 0.1$ and $y = 0$ but $0 \notin (0, 1)$.
  }
\end{solution}

\begin{exercise}
  Let $B$ be a set of positive real numbers with the property that adding together any finite subset of elements from $B$ always gives a sum of 2 or less. Show $B$ must be finite or countable.
\end{exercise}

\begin{solution}
  Notice $B \cap (a, 2)$ is finite forall $a > 0$, since if it was infinite we could make a set with sum greater then two.
  And since $B$ is the countable union of finite sets $\bigcup_{n=1}^\infty B \cap (1/n, 2)$, $B$ must be countable or finite.
\end{solution}

\begin{exercise}
  A real number $x \in \mathbf{R}$ is called algebraic if there exist integers $a_{0}, a_{1}, a_{2}, \ldots, a_{n} \in \mathbf{Z}$, not all zero, such that
  $$
  a_{n} x^{n}+a_{n-1} x^{n-1}+\cdots+a_{1} x+a_{0}=0
  $$
  Said another way, a real number is algebraic if it is the root of a polynomial with integer coefficients. Real numbers that are not algebraic are called \emph{transcendental} numbers. Reread the last paragraph of Section 1.1. The final question posed here is closely related to the question of whether or not transcendental numbers exist.

  \enum{
  \item Show that $\sqrt{2}, \sqrt[3]{2}$, and $\sqrt{3}+\sqrt{2}$ are algebraic.
  \item Fix $n \in \mathbf{N}$, and let $A_{n}$ be the algebraic numbers obtained as roots of polynomials with integer coefficients that have degree $n$. Using the fact that every polynomial has a finite number of roots, show that $A_{n}$ is countable.
  \item Now, argue that the set of all algebraic numbers is countable. What may we conclude about the set of transcendental numbers?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $x^2 - 2 = 0$, $x^3 - 2 = 0$ are obvious. Now consider $\sqrt 3 + \sqrt 2$. The key is setting $x = \sqrt 3 + \sqrt 2$ then using algebra on $x$ to concoct an integer, and thus find the polynomial with $x$ as a root.

    We have $x^2 = 5 + 2\sqrt6$ meaning $x^2 - 5 = 2\sqrt{6}$ and thus $(x^2 - 5)^2 = 24$ so $(x^2 - 5)^2 - 24 = 0$ is a polynomial with $\sqrt 3 + \sqrt 2$ as a root.
  \item Basically $A_n \sim \mathbf{Z}^n \sim \mathbf N^n \sim \mathbf{N}$.
    \enumr{
    \item $A_n \sim \mathbf{Z}^n$ since integer polynomials of degree $n$ are identical to an ordered list of $n$ integers.
    \item $\mathbf Z^n \sim \mathbf N^n$ since $f : \mathbf{N}^n \to \mathbf{Z}^n$ is just the piecewise application of $g : \mathbf{N} \to \mathbf{Z}$.
    \item $\mathbf N^n \sim \mathbf N$ since it is the intersection of finite sets $\bigcup_{n=2}^\infty \mathbf \{(a,b) : a+b = n\}$.
    }

    In general if $V$ is countable then $V^n = (v_1, \dots, v_n)$ is also countable.
  \item By \ref{ex:countable_union} the set of all algebraic numbers $\bigcup_{n=1}^\infty A_n$ is countable.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Let $C \subseteq[0,1]$ be uncountable. Show that there exists $a \in(0,1)$ such that $C \cap[a, 1]$ is uncountable.
  \item Now let $A$ be the set of all $a \in(0,1)$ such that $C \cap[a, 1]$ is uncountable, and set $\alpha=\sup A$. Is $C \cap[\alpha, 1]$ an uncountable set?
  \item Does the statement in (a) remain true if ``uncountable'' is replaced by ``infinite''?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Suppose $a$ does not exist, then $C \cap [a, 1]$ is countable for all $a \in (0, 1)$ meaning
    $$
    \bigcup_{n=1}^\infty C \cap [1/n, 1] = C \cap [0, 1]
    $$
    Is countable (by \ref{ex:countable_union}), contradicting our assumption that $C \cap [0, 1]$ is uncountable.
  \item If $\alpha = 1$ then $C \cap [\alpha, 1]$ is finite. Now if $\alpha < 1$ we have $C \cap [\alpha+\epsilon, 1]$ countable for $\epsilon>0$ (otherwise the set would be in $A$, and hence $\alpha$ would not be an upper bound). Take
    $$
    \bigcup_{n=1}^\infty C \cap [\alpha+1/n, 1] = C \cap [\alpha, 1]
    $$
    Which is countable by \ref{ex:countable_union}.
  \item No, consider the set $C = \{1/n : n \in \mathbf{N}\}$ it has $C \cap [\alpha, 1]$ finite for every $\alpha$, but $C \cap [0, 1]$ is infinite.
  }
\end{solution}

\begin{exercise}[SchrÃ¶der-Bernstein Theorem]
  Assume there exists a 1-1 function $f: X \rightarrow Y$ and another 1-1 function $g: Y \rightarrow X .$ Follow the steps to show that there exists a 1-1, onto function $h: X \rightarrow Y$ and hence $X \sim Y$.
  The strategy is to partition $X$ and $Y$ into components
  $$
  X=A \cup A^{\prime} \quad \text { and } \quad Y=B \cup B^{\prime}
  $$
  with $A \cap A^{\prime}=\emptyset$ and $B \cap B^{\prime}=\emptyset$, in such a way that $f$ maps $A$ onto $B$, and $g$ maps $B^{\prime}$ onto $A^{\prime}$.

  \enum{
  \item Explain how achieving this would lead to a proof that $X \sim Y$.
  \item Set $A_{1}=X \setminus g(Y)=\{x \in X: x \notin g(Y)\}$ (what happens if $\left.A_{1}=\emptyset ?\right)$ and inductively define a sequence of sets by letting $A_{n+1}=g\left(f\left(A_{n}\right)\right)$. Show that $\left\{A_{n}: n \in \mathbf{N}\right\}$ is a pairwise disjoint collection of subsets of $X$, while $\left\{f\left(A_{n}\right): n \in \mathbf{N}\right\}$ is a similar collection in $Y$.
  \item Let $A=\bigcup_{n=1}^{\infty} A_{n}$ and $B=\bigcup_{n=1}^{\infty} f\left(A_{n}\right)$. Show that $f$ maps $A$ onto $B$.
  \item Let $A^{\prime}=X \setminus A$ and $B^{\prime}=Y \setminus B$. Show $g$ maps $B^{\prime}$ onto $A^{\prime}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $f : A \to B$ and $g : B' \to A'$ are bijective, therefore we can define
    $$h(x) = \begin{cases}f(x) & \text{ if } x \in A \\ g^{-1}(x) & \text{ if } x \in A' \end{cases}$$
    which is bijective.
  \item If $A_1 = \emptyset$ then $g : Y \to X$ is 1-1 and onto so we are done.
    So assume $A_1 \ne \emptyset$, to show $\{A_n\}$ is pairwise disjoint, first consider how $A_1 \cap A_k = \emptyset$
    since $A_1 = X\setminus g(Y)$ and $g(f(A_1)) \subseteq g(Y)$. Define $h(x) = g(f(x))$

    Since $h$ is injective we have $h(A \cap B) = h(A) \cap h(B)$ for all $A,B$ in $X$.

    Proof: 1.2.7 shows $h(A \cap B) \subseteq h(A) \cap h(B)$, now suppose $y \in h(A)\cap h(B)$ meaning there exist $x_1 \in A$ and $x_2 \in B$ with $y = f(x_1) = f(x_2)$. By injectivity $x_1=x_2$ implying $x_1 \in A \cap B$ so $y \in h(A\cap B)$ which shows the reverse inclusion $h(A)\cap h(B) \subseteq h(A \cap B)$.

    Using this we can prove pairwise disjointness, let $j > k$ and use the iterated function notation $h^2 = h\circ h$ and note that $h^k$ is injective.
    $$
    A_{j+1} \cap A_{k+1} = h^{k}(A_{j-k}) \cap h^{k}(A_1) = h^k(A_{j-k} \cap A_1) = h^k(\emptyset) = \emptyset
    $$
    % TODO: Figure out the intuition behind this ^^, how does someone come up with this argument?!?
    And since $f$ is injective $f(A_j) \cap f(A_k) = f(A_j\cap A_k) = f(\emptyset) = \emptyset$.
  \item $f(A) = B$ because $f\left(\bigcup_{n=1}^\infty A_n\right) = \bigcup_{n=1}^\infty f(A_n)$ thus $f : A \to B$ is onto. ($B$ was basically defined as the range of $f$)
  \item Every time $g$ fails to be onto, there is some $x \in X$ where we can't find a $y \in Y$ with $g(y) = x$. Since $A_1 = X \setminus g(Y) \subseteq A$ every time this happens $x$ is in $A$. Therefore if we constrain ourselves to $A' = X \setminus A$ every $x \in A'$ has a $y \in Y$ with $g(y) = x$. If $y$ were in $B = \bigcup_{n=1}^\infty f(A_n)$ then $y \in f(A_n)$ for some $n$, but this is impossible as it would imply $x \in A_{n+1} \subseteq A$ which it isn't! Therefore $y \in Y \setminus B = B'$.
  }
  \TODO Where was pairwise disjointness needed? did I make a mistake?
\end{solution}
