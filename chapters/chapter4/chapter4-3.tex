\section{Continuous Functions}

\begin{exercise}
  Let $g(x)=\sqrt[3]{x}$.
  \enum{
  \item Prove that $g$ is continuous at $c=0$.
  \item Prove that $g$ is continuous at a point $c \ne 0$. (The identity $a^{3}-b^{3}=$ $(a-b)\left(a^{2}+a b+b^{2}\right)$ will be helpful.)
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let $\epsilon > 0$ be arbitrary and set $\delta = \epsilon^3$. If $|x-0| < \delta = \epsilon^3$ then taking the cube root of both sides gives $|x|^{1/3} < 1/\epsilon$ and since $(-x)^{1/3} = -(x^{1/3})$ we have $|x|^{1/3} = |x^{1/3}| < \epsilon$.
  \item We must make $|x^{1/3} - c^{1/3}| < \epsilon$ by making $|x - c|$ small. The identity given allows us to write
    $$
    |x^{1/3} - c^{1/3}| = |x - c| \cdot |x^{2/3} + x^{1/3}c^{1/3} + c^{2/3}|
    $$
    We can bound $|x^{2/3} + x^{1/3}c^{1/3} + c^{2/3}| \le |x^{2/3}| + |x^{1/3}c^{1/3}| + |c^{2/3}| \le |c^{2/3}|$ to get
    $$
    |x^{1/3} - c^{1/3}| \le |x - c| \cdot |c^{2/3}|
    $$
    Setting $\delta = \frac{\epsilon}{|c^{2/3}|}$ gives $|x^{1/3} - c^{1/3}| \le \epsilon$ completing the proof.
  }
\end{solution}


\begin{exercise}
  To gain a deeper understanding of the relationship between $\epsilon$ and $\delta$ in the definition of continuity, let's explore some modest variations of Definition 4.3.1. In all of these, let $f$ be a function defined on all of $\mathbf{R}$.
  \enum {
  \item Let's say $f$ is \emph{onetinuous} at $c$ if for all $\epsilon>0$ we can choose $\delta=1$ and it follows that $|f(x)-f(c)|<\epsilon$ whenever $|x-c|<\delta$. Find an example of a function that is onetinuous on all of $\mathbf{R}$.
  \item Let's say $f$ is \emph{equaltinuous} at $c$ if for all $\epsilon>0$ we can choose $\delta=\epsilon$ and it follows that $|f(x)-f(c)|<\epsilon$ whenever $|x-c|<\delta .$ Find an example of a function that is equaltinuous on $\mathbf{R}$ that is nowhere onetinuous, or explain why there is no such function.
  \item Let's say $f$ is \emph{lesstinuous} at $c$ if for all $\epsilon>0$ we can choose $0<\delta<\epsilon$ and it follows that $|f(x)-f(c)|<\epsilon$ whenever $|x-c|<\delta$. Find an example of a function that is lesstinuous on $\mathbf{R}$ that is nowhere equaltinuous, or explain why there is no such function.
  \item Is every lesstinuous function continuous? Is every continuous function lesstinuous? Explain.
  }
\end{exercise}

\begin{solution}
  \enum {
  \item The constant function $f(x) = k$ is onetinuous, in fact it is the only onetinuous function (Think about why)
  \item The line $f(x) = x$ is equaltinuous
  \item $f(x) = 2x$ is lesstinuous but nowhere-equaltinuous
  \item Every lesstinuous function is continuous, since the definition of lesstinuous is just continuous plus the requirement that $0 < \delta < \epsilon$.

    And every continuous function is lesstinuous since if $\delta > 0$ works we can set $\delta' < \delta$ and $\delta' < \epsilon$ so that $|x-c| < \delta' < \delta$ still implies $|f(x)-f(c)| < \epsilon$
  }
\end{solution}


\begin{exercise}
  \enum{
  \item Supply a proof for Theorem 4.3.9 (Composition of continuous functions) using the $\epsilon-\delta$ characterization of continuity.
  \item Give another proof of this theorem using the sequential characterization of continuity (from Theorem 4.3.2 (iii)).
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let $f$ is continuous at $c$ and $g$ be continuous at $f(c)$. We will show $g \circ f$ is continuous at $c$.
    Let $\epsilon > 0$ be arbitrary, we want $|g(f(x)) - g(f(c))| < \epsilon$ for $|x-c| < \delta$.
    Pick $\alpha > 0$ so that $|y - f(c)| < \alpha$ implies $|g(y) - g(f(c))| < \epsilon$ (possible since $g$ is continuous at $f(c)$) and pick $\delta > 0$ so that $|x-c|<\delta$ implies $|f(x)-f(c)|<\alpha$. Putting all of this together we have
    $$|x-c| < \delta \implies |f(x) - f(c)| < \alpha \implies |g(f(x)) - g(f(c))| < \epsilon$$
  \item Let $(x_n) \to c$, we know $f(x_n)$ is a sequence converging to $f(c)$ since $f$ is continuous at $c$, and since $g$ is continuous at $f(c)$ any sequence $(y_n) \to f(c)$ has $g(y_n) \to g(f(c))$. Letting $y_n = f(x_n)$ gives $g(f(x_n)) \to g(f(c))$ as desired.
  }
\end{solution}


\begin{exercise}
  Assume $f$ and $g$ are defined on all of $\mathbf{R}$ and that $\lim_{x \rightarrow p} f(x)=q$ and $\lim _{x \rightarrow q} g(x)=r$.
  \enum {
  \item Give an example to show that it may not be true that
    $$
    \lim _{x \rightarrow p} g(f(x))=r
    $$
  \item Show that the result in (a) does follow if we assume $f$ and $g$ are continuous.
  \item Does the result in (a) hold if we only assume $f$ is continuous? How about if we only assume that $g$ is continuous?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let $f(x) = q$ be constant and define $g(x)$ as
    $$g(x) = \begin{cases}(r/q)x &\text{ if } x \ne q \\ 0 &\text{ if } x = q \end{cases}$$
    We have $\lim_{x \to q} g(x) = r$ but $\lim_{x \to p} g(f(x)) = g(q) = 0$.

    The problem is that functional limits allow jump discontinuities by requiring $y \ne q$ in $\lim_{y \to q} g(y)$ but $f(x)$ might not respect $f(x) \ne q$ as $x \to p$.
    Continuity fixes this by requiring $\lim_{y \to q} g(y) = g(q)$ so that $f(x) = q$ doesn't break anything.

    Another fix would be requiring $f(x) \ne q$ for all $x \ne p$ - In other words that the error is always greater then zero $0 < |f(x) - q| < \epsilon$ similar to $0<|x-p|<\delta$. This would allow chaining of functional limits, however it would make it impossible to take limits of ``locally flat'' functions.
  \item Theorem 4.3.9 (Proved in Exercise 4.3.3)
  \item Not if $f$ is continuous (in our example $f$ was continuous). Yes if $g$ is continuous since it would get rid of the $f(x) = q$ problem.
  }
\end{solution}

\begin{exercise}
  Show using Definition 4.3.1 that if $c$ is an isolated point of $A \subseteq \mathbf{R}$, then $f: A \rightarrow \mathbf{R}$ is continuous at $c$
\end{exercise}

\begin{solution}
  Since $c$ is isolated, we can set $\delta$ small enough that the only $x \in A$ satisfying $|x - c| < \delta$ is $x = c$. Then clearly $|f(x) - f(c)| < \epsilon$ since $f(x) = f(c)$ for all $|x-c|<\delta$.
\end{solution}

\begin{exercise}
  Provide an example of each or explain why the request is impossible.
  \enum{
  \item Two functions $f$ and $g$, neither of which is continuous at 0 but such that $f(x) g(x)$ and $f(x)+g(x)$ are continuous at 0
  \item A function $f(x)$ continuous at 0 and $g(x)$ not continuous at 0 such that $f(x)+g(x)$ is continuous at 0
  \item A function $f(x)$ continuous at 0 and $g(x)$ not continuous at 0 such that $f(x) g(x)$ is continuous at 0
  \item A function $f(x)$ not continuous at 0 such that $f(x)+\frac{1}{f(x)}$ is continuous at 0 .
  \item A function $f(x)$ not continuous at 0 such that $[f(x)]^{3}$ is continuous at 0 .
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let

    $$f(x) = \begin{cases}1 &\text{ if } x \ge 0 \\ -1 &\text{ if } x < 0\end{cases}$$
    And set $g(x) = -f(x)$. we have $f(x) + g(x) = 0$ which is continuous at zero, and we have $f(x)g(x) = -f(x)^2 = -1$ which is also continuous at zero.
  \item Impossible, since it would imply that $(f + g) - f = g$ is continuous at zero (sum of continuous functions is continuous).
  \item Let $f(x) = 0$, then $f(x)g(x) = 0$ is continuous at zero for any $g(x)$.
  \item Have $f + 1/f = \frac{f^2 + 1}{f}$, let $g = f^2 + 1$ and $h = 1/f$ (note that $h$ is discontinuous). If $g$ is continuous (possible in cases where the square removes a signed jump discontinuity) then the only way for $gh$ to be continuous is for $g \to 0$ so that $gh \to 0$ (think of $x\sin(1/x)$ as an example) which is impossible since $g \ge 1$.
    If $g$ is not continuous then $gh$ is discontinuous since $g \ge 1$ we only make $h$ ``more discontinuous''
    % IDEA: Use logs? analyze continuity of log(f^2 + 1) - log(f) instead
    % This argument might work but it requires a bunch of lemmas that are implicitly assumed

    \TODO Finish, make rigorous
  \item Impossible, if $[f(x)]^3$ was continuous at zero then $\left([f(x)]^3\right)^{1/3} = f(x)$ would also be continuous at zero since the composition of continuous functions is continuous
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Referring to the proper theorems, give a formal argument that Dirichlet's function from Section 4.1 is nowhere-continuous on $\mathbf{R}$.
  \item Review the definition of Thomae's function in Section $4.1$ and demonstrate that it fails to be continuous at every rational point.
  \item Use the characterization of continuity in Theorem $4.3 .2$ (iii) to show that Thomae's function is continuous at every irrational point in $\mathbf{R}$. (Given $\epsilon>0$, consider the set of points $\{x \in \mathbf{R}: t(x) \geq \epsilon\} .)$
  }
\end{exercise}

\begin{solution}
  Recall Dirichlet's function is
  $$
  g(x) = \begin{cases}
    1 \text{ if } x \in \mathbf Q \\
    0 \text{ if } x \in \mathbf I
  \end{cases}
  $$
  And Thomae's function is
  $$
  t(x) = \begin{cases}
    1   &\text{ if } x = 0 \\
    1/n &\text{ if } x = m/n \text{ in lowest terms with } m,n \ne 0 \\
    0   &\text{ if } x \in \mathbf{I} \\
  \end{cases}
  $$

  \enum{
  \item Let $a \in \mathbf{Q}$ and set $\epsilon = 1$. For any $\delta > 0$ there will exist points $x \in (a-\delta,a+\delta) \cap \mathbf{I}$ by the density of $\mathbf{I}$ in $\mathbf{R}$ with $|f(x) - f(a)| = |0 - 1| = 1$ not less then $\epsilon$, therefore there does not exist a $\delta$ to match $\epsilon=1$ and so $f$ is discontinuous at $a$. Since $a$ was arbitrary (the $a \in \mathbf{I}$ case is identical) $g$ must be discontinuous at all of $\mathbf R$.
  \item By the same argument as in (a) for any $m/n \in \mathbf{Q}$ no matter how small $\delta$ is, we can find an irrational number within $\delta$ of $m/n$ meaning $\epsilon$ cannot be made smaller then $|f(m/n) - f(x)| = 1/n$.
  \item Let $a \in \mathbf{I}$, we want to show $t(x) < \epsilon$ for $|x-a| < \delta$. I claim the set $\{x \in V_1(a) : t(x) \ge \epsilon\}$ is finite, this can be seen since the requirement that $t(x) \ge \epsilon$ is the same as $x = m/n$ and $1/n \ge \epsilon$. It is easy to see there are finitely many points like this (consider how there are finitely many $n$ and finitely many $m$ given $n$) thus we can say $\{x \in V_1(a) : t(x) \ge \epsilon\} = \{x_1, \dots, x_n\}$ and set $\delta = \min\{|x_i - a| : i \in \{1, \dots, n\}\}$ to ensure every $x \in V_\delta(a)$ has $t(x) < \epsilon$.
  }
\end{solution}

\begin{exercise}
  Decide if the following claims are true or false, providing either a short proof or counterexample to justify each conclusion. Assume throughout that $g$ is defined and continuous on all of $\mathbf{R}$.
  \enum{
  \item If $g(x) \geq 0$ for all $x<1$, then $g(1) \geq 0$ as well.
  \item If $g(r)=0$ for all $r \in \mathbf{Q}$, then $g(x)=0$ for all $x \in \mathbf{R}$.
  \item If $g\left(x_{0}\right)>0$ for a single point $x_{0} \in \mathbf{R}$, then $g(x)$ is in fact strictly positive for uncountably many points.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item True, using the sequential definition for functional limits letting $(x_n) \to 1$ we have $g(x_n) \ge 0$ and $g(x_n) \to g(1)$ so by the Order Limit Theorem $g(1) \ge 0$
  \item True, since if there was some $x \in \mathbf R$ with $g(x) \ne 0$ then $g$ would not be continuous at $x$ because we could never make $\epsilon$ smaller then $|g(x) - g(r)| = |g(x)|$ as we can always find rational numbers satisfying $g(r) = 0$ inside any $\delta$-neighborhood.
  \item True, let $\epsilon < g(x_0)$ and pick $\delta$ so that every $x \in V_\delta(x_0)$ satisfies $g(x) \in (g(x_0)-\epsilon, g(x_0)+\epsilon)$ and thus $g(x) > 0$ since $g(x_0)-\epsilon > 0$.
  }
\end{solution}

\begin{exercise}
  Assume $h: \mathbf{R} \to \mathbf{R}$ is continuous on $\mathbf{R}$ and let $K=\{x$ : $h(x)=0\}$. Show that $K$ is a closed set.
\end{exercise}

\begin{solution}
  Let $(x_n)$ be a convergent sequence in $K$ and set $x = \lim x_n$. Since $h$ is continuous the limit $\lim h(x_n) = h(x)$ and since $h(x_n) = 0$ for all $n$ $\lim h(x_n) = 0$. therefore $h(x) = 0$ and $x \in K$.
\end{solution}

\begin{exercise}
  Observe that if $a$ and $b$ are real numbers, then
  $$
  \max \{a, b\}=\frac{1}{2}[(a+b)+|a-b|]
  $$
  \enum{
  \item Show that if $f_{1}, f_{2}, \ldots, f_{n}$ are continuous functions, then
    $$
    g(x)=\max \left\{f_{1}(x), f_{2}(x), \ldots, f_{n}(x)\right\}
    $$
    is a continuous function.
  \item Let's explore whether the result in (a) extends to the infinite case. For each $n \in \mathbf{N}$, define $f_{n}$ on $\mathbf{R}$ by
    $$
    f_{n}(x)= \begin{cases}1 & \text { if }|x| \geq 1 / n \\ n|x| & \text { if }|x|<1 / n\end{cases}
    $$
    Now explicitly compute $h(x)=\sup \left\{f_{1}(x), f_{2}(x), f_{3}(x), \ldots\right\}$
  }
\end{exercise}

\begin{solution}
  \enum{
  \item We will prove this by induction. The base case is
    $$\max\{f_1(x), f_2(x)\} = \frac 12\left[(a+b) + |a-b|\right]$$
    Which is obviously continuous. Now assume $\max\{f_1, \dots, f_{n-1}\}$ is continuous, letting $m(x) = \max\{f_1, \dots, f_{n-1}\}$ we can write
    $$
    g(x) = \max\{f_1, \dots, f_{n-1}, f_n\} = \max\{f_n, m(x)\}
    $$
    Now since $f_n(x)$ and $m(x)$ are continuous functions $\max\{f_n,m\}$ is continuous by the base case!
  \item We can reason by cases. if $x = 0$ then $f_n(0) = 0$ for all $n$ so $h(0) = 0$. If $x \ne 0$ then $|x| > 1/n$ for all $n > N$ meaning we have $h(x) = \max\{f_1(x), \dots, f_N(x), 1\}$. Since $n|x| < 1$ for all $|x| < 1/n$ we have $h(x) = 1$ and so
    $$
    h(x) = \begin{cases}
      0 &\text{ if } x = 0 \\
      1 &\text{ if } x \ne 0
    \end{cases}
    $$
    Which is not continuous at $x = 0$, therefore (a) does not hold in the infinite case.
  }
\end{solution}


\begin{exercise}[Contraction Mapping Theorem]
  Let $f$ be a function defined on all of $\mathbf{R}$, and assume there is a constant $c$ such that $0<c<1$ and
  $$
  |f(x)-f(y)| \leq c|x-y|
  $$
  for all $x, y \in \mathbf{R}$.
  \enum{
  \item Show that $f$ is continuous on $\mathbf{R}$.
  \item Pick some point $y_{1} \in \mathbf{R}$ and construct the sequence
    $$
    \left(y_{1}, f\left(y_{1}\right), f\left(f\left(y_{1}\right)\right), \ldots\right) .
    $$
    In general, if $y_{n+1}=f\left(y_{n}\right)$, show that the resulting sequence $\left(y_{n}\right)$ is a Cauchy sequence. Hence we may let $y=\lim y_{n}$.
  \item Prove that $y$ is a fixed point of $f$ (i.e., $f(y)=y$ ) and that it is unique in this regard.
  \item Finally, prove that if $x$ is any arbitrary point in $\mathbf{R}$, then the sequence $(x, f(x), f(f(x)), \ldots)$ converges to $y$ defined in (b).
}
\end{exercise}

\begin{solution}
  \enum{
  \item Let $\delta = \epsilon/c$ to get $|f(x) - f(y)| \le c|x-y| < \epsilon$ whenever $|x-y|<\delta$. (This is the general proof, we could make it shorter by letting $\delta=\epsilon$ since $0<c<1$)
  \item We want $|y_n - y_m| < \epsilon$. since $0 < c < 1$ we have $|y_{n+1} - y_{m+1}| \le c|y_n - y_m|$,
    implying $|y_n - y_m| \le c^m|y_{n-m+1} - y_1|$. Thus if we can bound $|y_k - y_1| \le M$ we will be done.

    \TODO


    Note that showing $|y_n - y_{n-1}|$ goes to zero is not enough for general Cauchy sequences, consider $a_n = \ln n$ as a counterexample: $|a_n - a_{n-1}| = \left|\ln(1 - 1/n)\right|$ goes to zero but $(a_n)$ is not Cauchy.
  \item \TODO
  \item \TODO
  }
\end{solution}

\begin{exercise}
  Let $F \subseteq \mathbf{R}$ be a nonempty closed set and define $g(x)=$ $\inf \{|x-a|: a \in F\}$. Show that $g$ is continuous on all of $\mathbf{R}$ and $g(x) \neq 0$ for all $x \notin F$.

\end{exercise}

\begin{solution}
  Let $x \in \mathbf R$ and let $a \in F$ be the element of $F$ closest to $x$ (must exist since $F$ is closed), we have $0 \le g(y) \le |y-a|$ and $g(x) = |x-a|$ thus $-|x-a| \le g(y)-g(x) \le |y-a|-|x-a|$ so
  $$|g(y) - g(x)| \le ||y-a| - |x-a||$$
  Applying the bound from Exercise 1.2.6 (d) we get
  $$||y-a|-|x-a|| \le |(y-a) - (x-a)| = |y-x| < \delta$$
  Setting $\delta = \epsilon$ gives $|g(x)-g(y)|<\epsilon$ as desired.

  To see $g(x) \ne 0$ for $x \notin F$ notice that $F^c$ is open so there exists an $\alpha>0$ so that $V_\alpha(x) \cap F = \emptyset$ meaning $g(x) \ge \alpha$ and so $g(x) \ne 0$.
\end{solution}

\begin{exercise}
  Let $f$ be a function defined on all of $\mathbf{R}$ that satisfies the additive condition $f(x+y)=f(x)+f(y)$ for all $x, y \in \mathbf{R}$.
  \enum{
  \item Show that $f(0)=0$ and that $f(-x)=-f(x)$ for all $x \in \mathbf{R}$.
  \item Let $k=f(1)$. Show that $f(n)=k n$ for all $n \in \mathbf{N}$, and then prove that $f(z)=k z$ for all $z \in \mathbf{Z} .$ Now, prove that $f(r)=k r$ for any rational number $r$.
  \item Show that if $f$ is continuous at $x=0$, then $f$ is continuous at every point in $\mathbf{R}$ and conclude that $f(x)=k x$ for all $x \in \mathbf{R}$. Thus, any additive function that is continuous at $x=0$ must necessarily be a linear function through the origin.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $f(0+0) = f(0) + f(0)$ implies $f(0) = 0$ and thus $f(x + (-x)) = 0 = f(x) + f(-x)$ meaning $f(-x) = -f(x)$.
  \item $f(n) = f(1) + \dots + f(1) = k + \dots + k = kn$. Now since $f(-n) = -f(n) = -kn$ we have $f(z) = kz$ for all $z \in \mathbf{Z}$. Finally let $r = p/q$ for $p \in \mathbf{Z}$ and $q \in \mathbf{N}$. notice that $f(qr) = k(qr)$ and since $f(qr) = f(r + \dots + r) = f(r) + \dots + f(r) = qf(r)$ we have $f(r) = k(qr)/q = kr$.
  \item Assume $f$ is continuous at $0$ and let $x \in \mathbf{R}$ be arbitrary. Let $x_n$ be a sequence approaching $x$. since $(x-x_n) \to 0$ we have $f(x-x_n) \to 0$ because $f$ is continuous at zero. Now since $f$ is additive $f(x-x_n) = f(x) - f(x_n) \to 0$ implies $f(x_n) \to f(x)$ meaning $f$ is continuous at $x \in \mathbf{R}$ by the sequential characterization of continuity.

    Now to see that $f(x) = kx$ for $x \in \mathbf{I}$ simply take a limit of rationals approaching $x$.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Let $F$ be a closed set. Construct a function $f: \mathbf{R} \rightarrow \mathbf{R}$ such that the set of points where $f$ fails to be continuous is precisely $F$. (The concept of the interior of a set, discussed in Exercise 3.2.14, may be useful.)
  \item Now consider an open set $O$. Construct a function $g: \mathbf{R} \rightarrow \mathbf{R}$ whose set of discontinuous points is precisely $O$. (For this problem, the function in Exercise 4.3.12 may be useful.)
  }
\end{exercise}

\begin{solution}
  \TODO
\end{solution}


