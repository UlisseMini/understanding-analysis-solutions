\section{Continuous Functions on Compact Sets}

\begin{exercise}
  \enum{
  \item Show that $f(x)=x^{3}$ is continuous on all of $\mathbf{R}$.
  \item Argue, using Theorem 4.4.5, that $f$ is not uniformly continuous on $\mathbf{R}$.
  \item Show that $f$ is uniformly continuous on any bounded subset of $\mathbf{R}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item True since the product of continuous functions is continuous
  \item Take $x_n = n$ and $y_n = n + 1/n$ has $|x_n - y_n| \to 0$ but
    $$
    \left|f(y_n) - f(x_n)\right|
    = \left|(n + 1/n)^3 - n^3\right|
    = \left|3n^2 \cdot \frac{1}{n} + 3n \cdot \frac 1{n^2} + \frac{1}{n^3}\right| \to \infty
    $$
    Which shows $x^3$ is not uniformly continuous by Theorem 4.4.5
  \item Let $A$ be a bounded subset of $\mathbf R$ with $A \subset (-M, M)$. Let $\epsilon > 0$ and note that
    $$
    \left|\frac{x^3 - y^3}{x - y}\right|
    = \left|\frac{(x-y)(x^2 + xy + y^2)}{(x-y)}\right|
    = \left|x^2 + xy + y^2\right|
    $$
    Is clearly bounded on $(-M, M)$. Thus the Lipschitz condition allows us to conclude $f$ is uniformly continuous on $A$.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Is $f(x)=1 / x$ uniformly continuous on $(0,1)$ ?
  \item Is $g(x)=\sqrt{x^{2}+1}$ uniformly continuous on $(0,1)$ ?
  \item Is $h(x)=x \sin (1 / x)$ uniformly continuous on $(0,1)$ ?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item No, intuitively because slope becomes unbounded as we approach zero. Rigorously consider $x_n = 2/n$ and $y_n = 1/n$ we have $|x_n - y_n| \to 0$ but $|1/x_n - 1/y_n| = |n/2 - n| = n/2$ is unbounded meaning $f$ cannot be uniformly continuous by Theorem 4.4.5.
  \item Yes, since it's continuous on $[0, 1]$ Theorem 4.4.7 implies it is uniformly continuous on $[0, 1]$ and hence on any subset as well.
  \item Yes, since $h$ is continuous over $[0,1]$ implying it is also uniformly continuous over $[0,1]$ by Theorem 4.4.7
  }
\end{solution}


\begin{exercise}
  Show that $f(x)=1 / x^{2}$ is uniformly continuous on the set $[1, \infty)$ but not on the set $(0,1]$.
\end{exercise}

\begin{solution}
  By Lipschitz over $[1, \infty)$
  $$
  \left|\frac{1/x^2 - 1/y^2}{x - y}\right|
  = \left|\frac{y^2 - x^2}{x^2y^2(x-y)}\right|
  = \left|\frac{(x - y)(x + y)}{x^2y^2(x-y)}\right|
  = \left|\frac{x + y}{x^2y^2}\right|
  = \left|\frac{1}{xy^2} + \frac{1}{x^2y}\right|
  \le 2
  $$
  For $(0, 1]$ consider $x_n = 1/n$ and $y_n = 1/2n$. we have $|x_n - y_n| \to 0$ but
  $$|f(x_n) - f(y_n)| = |n - 2n| = n$$
  is unbounded, hence $f$ is not uniformly continuous on $(0, 1]$ by Theorem 4.4.5.
\end{solution}

\begin{exercise}
  Decide whether each of the following statements is true or false, justifying each conclusion.
  \enum{
  \item If $f$ is continuous on $[a, b]$ with $f(x)>0$ for all $a \leq x \leq b$, then $1 / f$ is bounded on $[a, b]$ (meaning $1 / f$ has bounded range).
  \item If $f$ is uniformly continuous on a bounded set $A$, then $f(A)$ is bounded.
  \item If $f$ is defined on $\mathbf{R}$ and $f(K)$ is compact whenever $K$ is compact, then $f$ is continuous on $\mathbf{R}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item True, the Algebraic Limit Theorem implies $1/f$ is continuous (well defined since $f > 0$) and the Extreme Value Theorem implies $1/f$ attains a maximum and minimum and so is bounded.
  \item Let $\epsilon = 1$ and choose $\delta > 0$ so that $|x - y| < \delta$ implies $|f(x)-f(y)|<\epsilon$. Partition $A$ into $P = \{x_0, \dots, x_n\}$ where each interval is smaller then $\delta$ (ie. $\forall k,\; x_k - x_{k-1} < \delta$).
    Let $y \in A$ be arbitrary, we have $|y - x_0| < n\delta$ meaning $|f(y) - f(x_0)| < n\epsilon$ by the triangle inequality. Meaning every $y \in A$ has $f(y) \in (f(x_0)-n, f(x_0)+n)$ and so $f(A)$ is bounded.
  \item \TODO

    % Let $(x_n)$ be a sequence converging to $x$, we can cover $(x_n)$ with a compact set $K$ so that every $x_n \in K$. since $f(K)$ is compact and $f(x_n) \in f(K)$ there must exist a converging subsequence $f(x_{n_k}) \in f(K)$ with $f(x_{n_k}) \to f(x)$. To finish we must show $f(x_n)$ converges. \TODO

    % Counterexample: Let
    % $$
    % f(x) = \begin{cases}
    %   \sin(1/x) &\text{ if } x \ne 0 \\
    %   0 &\text{ if } x = 0
    % \end{cases}
    % $$
    % $f$ is continuous at every point except $0$, let $K$ be a compact set containing $0$. Every sequence $y_n \in f(K)$ must contain a convergent subsequence $(y_{n_k}) \to y$ since $f(K)$ is bounded. To show $y \in f(K)$ note that $y \in [-1,1]$ you might think $[-1,1] \subseteq f(K)$ but not for wierd $K$ made from infinite intersections of closed intervals.
  }
\end{solution}

\begin{exercise}
  Assume that $g$ is defined on an open interval $(a, c)$ and it is known to be uniformly continuous on $(a, b]$ and $[b, c)$, where $a<b<c$. Prove that $g$ is uniformly continuous on $(a, c)$.
\end{exercise}

\begin{solution}
  Let $\epsilon > 0$ and choose $\delta_1$ so that every $x,y \in (a,b]$ with $|x-y|<\delta_1$ has $|f(x)-f(y)|<\epsilon/2$, likewise choose $\delta_2$ so that every $x,y \in [b,c)$ with $|x-y|<\delta_2$ has $|f(x)-f(y)|<\epsilon/2$.
  Finally let $\delta = \min\{\delta_1, \delta_2\}$. The final case is if $x \in (a,b]$ and $y \in [b,c]$ where we use the triangle inequality
  $$
  |f(x) - f(y)| \le |f(x) - f(b)| + |f(b) - f(y)| < \epsilon/2 + \epsilon/2 = \epsilon
  $$
  Thus $f$ is uniformly continuous on $(a,c)$.
\end{solution}

\begin{exercise}
  Give an example of each of the following, or state that such a request is impossible. For any that are impossible, supply a short explanation for why this is the case.
  \enum{
  \item A continuous function $f:(0,1) \rightarrow \mathbf{R}$ and a Cauchy sequence $\left(x_{n}\right)$ such that $f\left(x_{n}\right)$ is not a Cauchy sequence;
  \item A uniformly continuous function $f:(0,1) \rightarrow \mathbf{R}$ and a Cauchy sequence $\left(x_{n}\right)$ such that $f\left(x_{n}\right)$ is not a Cauchy sequence;
  \item A continuous function $f:[0, \infty) \rightarrow \mathbf{R}$ and a Cauchy sequence $\left(x_{n}\right)$ such that $f\left(x_{n}\right)$ is not a Cauchy sequence;
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $f(x) = 1/x$ and $x_n = 1/n$ has $f(x_n)$ diverging, hence $f(x_n)$ is not Cauchy.
  \item Impossible since for all $\epsilon > 0$ we can find an $N$ so that all $n \ge N$ has $|x_n - x_m| < \delta$ (since $x_n$ is cauchy) implying $|f(x_n) - f(x_m)| < \epsilon$ and thus $f(x_n)$ is Cauchy. (Uniform continuity is needed for the $\forall n \ge N$ part)
  \item Impossible since $[0,\infty)$ is closed $(x_n) \to x \in [0,\infty)$ implying $f(x_n) \to f(x)$ since $f$ is continuous, thus $f(x_n)$ is a cauchy sequence.
  }
\end{solution}


\begin{exercise}
  Prove that $f(x)=\sqrt{x}$ is uniformly continuous on $[0, \infty)$.
\end{exercise}

\begin{solution}
  We will show $f$ is uniformly continuous on $[0,1]$ and $[1, \infty)$ then combine them similar to Exercise 4.4.5.

  \enumr{
  \item Since $f$ is continuous over $[0,1]$ Theorem 4.4.7 implies $f$ is uniformly continuous on $[0,1]$.
  \item $f$ is Lipschitz on $[1, \infty)$ since $\sqrt x$ is sublinear over $[1, \infty)$
    $$
    \left|\frac{\sqrt x - \sqrt y}{x - y}\right|
    = \left|\frac{(\sqrt x - \sqrt y)}{(\sqrt x - \sqrt y)(\sqrt x + \sqrt y)}\right|
    = \left|\frac{1}{\sqrt x + \sqrt y}\right| \le 1
    $$
  }

  Let $\delta = \min\{\delta_1, \delta_2\}$ where $\delta_1$ is for $[0,1]$ and $\delta_2$ is for $[1, \infty)$. If $x,y$ are both in one of $[0,1]$ or $[1,\infty)$ we have $|f(x)-f(y)|<\epsilon/2$ and are done. If $x \in [0,1]$ and $y \in [1, \infty)$ then
  $$
  |f(x) - f(y)| \le |f(x) - f(1)| + |f(1) - f(y)| < \epsilon/2 + \epsilon/2 = \epsilon
  $$
  Thus $f(x) = \sqrt x$ is uniformly continuous on $[0,\infty)$.
\end{solution}

\begin{exercise}
  Give an example of each of the following, or provide a short argument for why the request is impossible.
  \enum{
  \item A continuous function defined on $[0,1]$ with range $(0,1)$.
  \item A continuous function defined on $(0,1)$ with range $[0,1]$.
  \item A continuous function defined on $(0,1]$ with range $(0,1)$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Impossible as continuous functions preserve compact sets and $(0,1)$ is not compact.
  \item Define
    $$
    f(x) = \begin{cases}
      3x - 1 &\text{ if } x \in [1/3, 2/3] \\
      1      &\text{ if } x \in (2/3, 1) \\
      0      &\text{ if } x \in (0, 1/3) \\
    \end{cases}
    $$
    $f$ is continuous on $(0,1)$ and has range $[0,1]$. Here's a graph of $f$:
    \begin{tikzpicture}
      \draw (0, 0)   -- (1/3, 0);
      \draw (1/3, 0) -- (2/3, 1);
      \draw (2/3, 1) -- (1, 1);
    \end{tikzpicture}
  \item Impossible. for each $y \in \{0,1\}$ we can make a convergent sequence $(x_n) \to x$ so that $f(x_n) \to y$ but since $y \notin (0,1)$ we must have $x \notin (0, 1]$. But since $(0,1]$ only has a single ``escape'' point (a limit point outside the set) we run into a contradiction.
  }
\end{solution}

\begin{exercise}[Lipschitz Functions]
  A function $f: A \rightarrow \mathrm{R}$ is called Lipschitz if there exists a bound $M>0$ such that
  $$
  \left|\frac{f(x)-f(y)}{x-y}\right| \leq M
  $$
  for all $x \neq y \in A$. Geometrically speaking, a function $f$ is Lipschitz if there is a uniform bound on the magnitude of the slopes of lines drawn through any two points on the graph of $f$.
  \enum{
  \item Show that if $f: A \rightarrow \mathbf{R}$ is Lipschitz, then it is uniformly continuous on $A$.
  \item Is the converse statement true? Are all uniformly continuous functions necessarily Lipschitz?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Choose $\epsilon > 0$ and set $\delta = \epsilon/M$ to get $|f(x) - f(y)| \le M|x-y| < M\delta < \epsilon$.
  \item No, consider $f(x) = \sqrt x$ over $[0,1]$ which is uniformly continuous by Theorem 4.4.7 however at $x=0$ we have
    $$
    \left|\frac{f(x) - f(y)}{x - y}\right| = \left|\frac{- \sqrt y}{-y}\right| = \frac{1}{\sqrt y}
    $$
    Which is unbounded for small $y$.
  }
\end{solution}

\begin{exercise}
  Assume that $f$ and $g$ are uniformly continuous functions defined on a common domain $A$. Which of the following combinations are necessarily uniformly continuous on $A$:
  $$
  f(x)+g(x), \quad f(x) g(x), \quad \frac{f(x)}{g(x)}, \quad f(g(x)) ?
  $$
  (Assume that the quotient and the composition are properly defined and thus at least continuous.)
\end{exercise}

\begin{solution}
  Note both $f$ and $g$ are bounded since they are uniformly continuous (Pick $x \in A$ and $\epsilon$ then cover with $\delta$-length intervals) so we can let $|f(x)| \le M$ and $|g(x)| \le M$.

  \enumr{
  \item $f(x) + g(x)$ is clearly uniformly continuous
  \item Similar to the continuous proof of $f(x)g(x)$ being continuous
    $$
    \begin{aligned}
      |f(x)g(x) - f(y)g(y)|
      &\le |f(x)g(x) - f(x)g(y)| + |f(x)g(y) - f(y)g(y)| \\
      &\le M|g(x) - g(y)| + M|f(x) - f(y)| \\
      &< M\left(\frac{\epsilon}{2M} + \frac{\epsilon}{2M}\right) = \epsilon
    \end{aligned}
    $$
  \item False, consider $f(x)=1$ and $g(x) = x$ over $(0,1)$. Both are uniformly continuous on $(0,1)$ but $f/g = 1/x$ is not.
  \item Want $|f(g(x)) - f(g(y))|<\epsilon$. Since $f$ is uniformly continuous we can find an $\alpha > 0$ so that
    $$|g(x) - g(y)| < \alpha \implies |f(g(x))-f(g(y))| < \epsilon$$
    Now since $g$ is uniformly continuous we can find a $\delta > 0$ so that
    $$|x - y| < \delta \implies |g(x) - g(y)| < \alpha$$
    Combine the two to get
    $$|x-y| < \delta \implies |f(g(x)) - f(g(y))| < \epsilon$$
    as desired, which proves that $f(g(x))$ is uniformly continuous.
  }
\end{solution}

\begin{exercise}[Topological Characterization of Continuity]
  Let $g$ be defined on all of $\mathbf{R}$. If $B$ is a subset of $\mathbf{R}$, define the $\operatorname{set} g^{-1}(B)$ by
  $$
  g^{-1}(B)=\{x \in \mathbf{R}: g(x) \in B\} .
  $$
  Show that $g$ is continuous if and only if $g^{-1}(O)$ is open whenever $O \subseteq \mathbf{R}$ is an open set.
\end{exercise}

\begin{solution}
  A fact we'll use is that $g(A) \subseteq B$ if and only if $A \subseteq g^{-1}(B)$. Which is true since 
  $$
  g(A) \subseteq B \implies A \subseteq g^{-1}(g(A)) \subseteq g^{-1}(B)
  \quad\text{and}\quad
  A \subseteq g^{-1}(B) \implies g(A) \subseteq B.
  $$

  Fix $x \in \mathbf{R}$, we are given that $g^{-1}(V_\epsilon(x))$ is open, meaning there exists a neighborhood $V_\delta(x)$ with $V_\delta(x) \subseteq g^{-1}(V_\epsilon(x))$ implying $g(V_\delta(x)) \subseteq V_\epsilon(x)$ and thus $g$ is continuous.

  Now suppose $g$ is continuous and let $O \subseteq \mathbf{R}$ be an open set. If $x \in g^{-1}(O)$ then $g(x) \in O$ and (since $O$ is open) there exists a neighborhood $V_\epsilon(g(x)) \subseteq O$, now there exists $V_\delta(x)$ where $g(V_\delta(x)) \subseteq V_\epsilon(g(x)) \subseteq O$ so we have $V_\delta(x) \subseteq g^{-1}(O)$ and are done.
\end{solution}

\begin{exercise}
  Review Exercise 4.4.11, and then determine which of the following statements is true about a continuous function defined on $\mathbf{R}$:
  \enum{
  \item $f^{-1}(B)$ is finite whenever $B$ is finite.
  \item $f^{-1}(K)$ is compact whenever $K$ is compact.
  \item $f^{-1}(A)$ is bounded whenever $A$ is bounded.
  \item $f^{-1}(F)$ is closed whenever $F$ is closed.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item False, $f(x)=0$ has $f^{-1}(\{0\}) = \mathbf R$
  \item False, $f(x)=0$ has $\{0\}$ compact but $f^{-1}(\{0\}) = \mathbf{R}$ is not compact
  \item False, $f(x)=0$ has $f^{-1}(\{0\}) = \mathbf{R}$
  \item True, let $(x_n) \to x$ be a convergent sequence in $f^{-1}(F)$, we know $f(x_n) \to f(x) \in F$ meaning $x \in f^{-1}(F)$ and so $f^{-1}(F)$ is closed.
  }
\end{solution}

\begin{exercise}[Continuous Extension Theorem]
  \enum{
  \item Show that a uniformly continuous function preserves Cauchy sequences; that is, if $f: A \rightarrow \mathbf{R}$ is uniformly continuous and $\left(x_{n}\right) \subseteq A$ is a Cauchy sequence, then show $f\left(x_{n}\right)$ is a Cauchy sequence.
  \item Let $g$ be a continuous function on the open interval $(a, b)$. Prove that $g$ is uniformly continuous on $(a, b)$ if and only if it is possible to define values $g(a)$ and $g(b)$ at the endpoints so that the extended function $g$ is continuous on $[a, b]$. (In the forward direction, first produce candidates for $g(a)$ and $g(b)$, and then show the extended $g$ is continuous.)
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let $\epsilon > 0$ and set $N$ large enough that $n,m \ge N$ has $|x_n - x_m| < \delta$ implying $|f(x_n) - f(x_m)| < \epsilon$ by the uniformly continuity of $f$.
  \item Define $g(a) = \lim_{x \to a} g(x)$ and $g(b) = \lim_{x \to b} g(x)$ if both limits exist, then $g$ is continuous on $[a,b]$ meaning it is uniformly continuous on $[a,b]$ by Theorem 4.4.7, and thus is uniformly continuous the subset $(a,b)$.

    If $f$ were uniformly continuous $(a,b)$ cauchy sequences are preserved meaning the sequential definition for functional limits (Theorem 4.2.3) implies the limits $\lim_{x \to a} g(x)$ and $\lim_{x \to b} g(x)$ exist.
  }
\end{solution}


\begin{exercise}
  Construct an alternate proof of Theorem 4.4.7 (Continuous on $K$ implies Uniformly Continuous on $K$) using the open cover characterization of compactness from the Heine-Borel Theorem (Theorem 3.3.8 (iii)).
\end{exercise}

\begin{solution}
  Let $f$ be continuous on $K$, and choose $\epsilon > 0$. We can create the open cover $\{V_{\delta_x}(x) : x \in K\}$ where $\delta_x$ is chosen so every $y \in V_\delta(x)$ has $|f(x)-f(y)|<\epsilon/2$.
  Now since $K$ is compact there exists a finite subcover $\{V_{\delta_1}(x_1), \dots, V_{\delta_n}(x_n)\}$ (ordered, $x_k < x_{k+1}$) with $K \subseteq \bigcup_{k=1}^n V_{\delta_k}(x_k)$. Let $\delta = \min\{\delta_1, \dots, \delta_n\}$, if $x,y \in  K$ with $|x-y| < \delta$ then either both $x,y \in V_{\delta_k}(x_k)$ so $|f(x)-f(y)|<\epsilon/2$ or
  $x \in V_{\delta_k}$ and $y \in V_{\delta_{k+1}}$ meaning we can find an $m \in V_{\delta_k}(x_k) \cap V_{\delta_{k+1}}(x_{k+1})$ with $|f(x)-f(y)|\le |f(x)-f(m)|+|f(m)-f(y)|<\epsilon/2+\epsilon/2=\epsilon$. (The intersection is nonempty because there cannot be gaps between $V_{\delta_k}(x_k)$ and $V_{\delta_{k+1}}(x_{k+1})$.)
\end{solution}
