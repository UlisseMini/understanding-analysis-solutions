\section{Perfect Sets and Connected Sets}

\begin{exercise}
  If $P$ is a perfect set and $K$ is compact, is the intersection $P \cap K$ always compact? Always perfect?
\end{exercise}

\begin{solution}
  Recall a perfect set is a closed set with no isolated points. Thus the intersection of a closed set $P$ and a closed bounded set $K$ gives a closed bounded (and thus compact) set $P \cap K$.

  Now take $P = \mathbf{R}$, we get $P \cap K = K$ which is not nessesarily perfect.
\end{solution}

\begin{exercise}
  Does there exist a perfect set consisting of only rational numbers?
\end{exercise}

\begin{solution}
  No, since any nonempty set $P \subseteq \mathbf Q$ is countable but, nonempty perfect sets are uncountable by Theorem 3.4.3
\end{solution}

\begin{exercise}
  Review the portion of the proof given in Example 3.4.2 and follow these steps to complete the argument.
  \enum{
  \item Because $x \in C_{1}$, argue that there exists an $x_{1} \in C \cap C_{1}$ with $x_{1} \neq x$ satisfying $\left|x-x_{1}\right| \leq 1 / 3$.
  \item Finish the proof by showing that for each $n \in \mathbf{N}$, there exists $x_{n} \in C \cap C_{n}$, different from $x$, satisfying $\left|x-x_{n}\right| \leq 1 / 3^{n}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Noting that \(C_1\) is the union of disjoint intervals of length \(1/3\), and that \(C_2\) divides each interval in \(C_1\) into two, consider the intervals \([a, b] \subseteq C_1\) and \([c, d] \subseteq C_2\) that \(x\) is in. Then choose \(x_1\) to be any other point \(c \in C \cap ([a, b] \backslash [c, d])\) - i.e. it shares an interval with \(x\) in \(C_1\) but is in a different interval in \(C_2\); therefore it must be within \(1/3\) of \(x\) but is different from \(x\).
  \item Identical argument to part (a), replacing \(C_1\) with \(C_n\), \(C_2\) with \(C_{n+1}\), \(1/3\) with \(1/3^n\), and \(x_1\) with \(x_n\).
  }
\end{solution}

\begin{exercise}
  Repeat the Cantor construction from Section $3.1$ starting with the interval $[0,1]$. This time, however, remove the open middle \emph{fourth} from each component.
  \enum{
  \item Is the resulting set compact? Perfect?
  \item Using the algorithms from Section 3.1, compute the length and dimension of this Cantor-like set.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item The proofs that the Cantor set is compact and perfect can be copied and applied nearly word for word here. The Cantor-like set is obviously bounded, and it is closed because it is the intersection of countably many closed sets (see Exercise 3.2.6e); therefore it must be compact. Using the same strategy as Exercise 3.4.3, for any \(x\) in the Cantor-like set, we can find a sequence \((x_n)\) where \(x_n \neq x\) but \(|x_n - x| \leq (3/8)^n \).
  \item The sum of the lengths of the removed segments is
  \[\frac{1}{4} + \left(\frac{1}{4}\right)\left(\frac{3}{4}\right) + \cdots + \left(\frac{1}{4}\right)\left(\frac{3}{4}\right)^{n - 1} + \cdots = 1\]
and thus the Cantor-like set has zero length.

  Magnifying the Cantor-like set by a factor of \(8/3\) leaves us with two copies of the set, hence the dimension \(d = \log 2 / \log (8/3) \approx 0.707\).
  }
\end{solution}

\begin{exercise}
  Let $A$ and $B$ be nonempty subsets of $\mathbf{R}$. Show that if there exist disjoint open sets $U$ and $V$ with $A \subseteq U$ and $B \subseteq V$, then $A$ and $B$ are separated.
\end{exercise}

\begin{solution}
  Disjoint open sets are separated, therefore so are their subsets.
\end{solution}

\begin{exercise}
  Prove that $A$ set $E \subseteq \mathbf{R}$ is connected if and only if, for all nonempty disjoint sets $A$ and $B$ satisfying $E=A \cup B$, there always exists a convergent sequence $\left(x_{n}\right) \rightarrow x$ with $\left(x_{n}\right)$ contained in one of $A$ or $B$, and $x$ an element of the other. (Theorem 3.4.6)

\end{exercise}

\begin{solution}
  Both are obvious if you think about the definitions, here's some formal(ish) garbage though

  Suppose $\closure{A} \cup B$ is nonempty and let $x$ be an element in both, $x \in B$ implies $x \notin A$ therefore $x \in L$ (the set of limit points of $A$) meaning there must exist a sequence $(x_n) \to x$ contained in $A$.

  Now suppose there exists an $(x_n) \to x$ in $A$ with limit in $B$, then clearly $\closure{A} \cap B \subseteq \{x\}$ is nonempty.
\end{solution}

\begin{exercise}
  A set $E$ is totally disconnected if, given any two distinct points $x, y \in E$, there exist separated sets $A$ and $B$ with $x \in A, y \in B$, and $E=A \cup B$.
  \enum{
  \item Show that $\mathbf{Q}$ is totally disconnected.
  \item Is the set of irrational numbers totally disconnected?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Let $x,y \in \mathbf Q$, and let $z \in (x,y)$ with $z \in \mathbf I$. The sets $A = (-\infty, z) \cap \mathbf Q$ and $B = (z, \infty) \cap \mathbf Q$ are separated and have $A \cup B = \mathbf Q$.
  \item Now let $x,y \in \mathbf I$, and let $z \in (x,y)$ with $z \in \mathbf Q$. The sets $A = (-\infty, z) \cap \mathbf I$ and $B = (z, \infty) \cap \mathbf I$ are separated and have $A \cup B = \mathbf I$.
  }
\end{solution}

\begin{exercise}
  Follow these steps to show that the Cantor set is totally disconnected in the sense described in Exercise 3.4.7.
  Let $C=\bigcap_{n=0}^{\infty} C_{n}$, as defined in Section 3.1.
  \enum{
  \item Given $x, y \in C$, with $x<y$, set $\epsilon=y-x$. For each $n=0,1,2, \ldots$, the set $C_{n}$ consists of a finite number of closed intervals. Explain why there must exist an $N$ large enough so that it is impossible for $x$ and $y$ both to belong to the same closed interval of $C_{N}$.
  \item Show that $C$ is totally disconnected.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Since the length of every interval goes to zero, we set $N$ large enough that the length of every interval is less then $\epsilon$, meaning $x$ and $y$ cannot be in the same interval.
  \item Obvious
  }
\end{solution}

\begin{exercise}
  Let $\left\{r_{1}, r_{2}, r_{3}, \ldots\right\}$ be an enumeration of the rational numbers, and for each $n \in \mathbf{N}$ set $\epsilon_{n}=1 / 2^{n}$. Define $O=\bigcup_{n=1}^{\infty} V_{\epsilon_{n}}\left(r_{n}\right)$, and let $F=O^{c}$.
  \enum{
  \item Argue that $F$ is a closed, nonempty set consisting only of irrational numbers.
  \item Does $F$ contain any nonempty open intervals? Is $F$ totally disconnected? (See Exercise 3.4.7 for the definition.)
  \item Is it possible to know whether $F$ is perfect? If not, can we modify this construction to produce a nonempty perfect set of irrational numbers?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item \(O\) is a union of an arbitrary collection of open sets and therefore is open; therefore \(O^c = F\) is closed. \(O\) contains all rational numbers, therefore \(F\) must consist only of irrational numbers. Intuitively, \(F\) must be nonempty, because the sum of the lengths of the intervals in \(O\) is 2 and can't cover the infinite real line - but the properties of interval lengths haven't been rigorously defined, and maybe something weird can happen (e.g. Banach-Tarski paradox), so it's best to prove it.

  Let \(O_n = \bigcup^n_{i=1} V_{\epsilon_i}(r_i)\), \(F_n = O_n^c\), and \(G_n = F_n \cap [1, 3)\). Clearly \(G_{n} \supseteq G_{n+1}\) and \(G_n\) is compact, so if we can show \(G_n\) is always nonempty, we can use the Nested Compact Set Property to show \(F = \bigcap^\infty_{n=1} F_n \supseteq \bigcap^\infty_{n=1} G_n\) is nonempty.

  Consider the set \(M = \{m / 2^{n-1} : m \in \mathbf{N}\} \cup [1, 3)\), a set of evenly spaced numbers with \(1/2^{n-1}\) between each number. Some arithmetic shows that there are \(2^{n}\) elements in \(M\). Since the length of \(O_i\) is \(1/2^{i-1}\), there can only be at most \(2^{n-i}\) elements of \(M\) in \(O_i\), and therefore \(2^{n} - 1\) elements of \(M\) in \(O\). Since \(G_n \supseteq M \backslash O\), \(G_n\) is nonempty, completing the proof.
  \item Since \(F\) contains no rational numbers, and any nonempty open interval will contain rational numbers (since \(\mathbf{Q}\) is dense in \(\mathbf{R}\)), \(F\) cannot contain any open interval. The proof that \(F\) is totally disconnected is the same as that for \(\mathbf{I}\) in Exercise 3.4.7b.
  \item It is possible for \(F\) to be not perfect. First, we prove the following lemma - for any \(L \in \mathbf{R}\) and a positive sequence \((\zeta_n) \to 0\), it is possible to construct a sequence \((x_n) \in \mathbf{Q}\) such that \([L, L + 2\zeta_1) \backslash \bigcup^\infty_{i=1}V_{\zeta_i} (x_i) = \{L\}\). To do so, let \(V_{\zeta_n} (x_n) = (\alpha_n, \beta_n)\). Choose \(L < \alpha_n < L + 2 \zeta_{n+1}\).

  We show by induction that \([L, L + 2\zeta_1) \backslash \bigcup^n_{i=1} V_{\zeta_i} (x_i) \in [L, L + 2 \zeta_{n + 1})\). The base case \(n = 1\) is trivial. For the inductive case: assume \([L, L + 2\zeta_1) \backslash \bigcup^n_{i=1} V_{\zeta_i} (x_i) \subseteq [L, L + 2 \zeta_{n + 1})\). Then
  \[[L, L + \zeta_1) \backslash \bigcup^{n+1}_{i=1} V_{\zeta_i} (x_i) \subseteq [L, L + 2\zeta_{n+1}) \backslash V_{\zeta_{n+1}}(x_{n+1}) = [L, L + 2\zeta_{n+1}) \backslash (\alpha_{n+1}, \beta_{n+1})\]
  Since \(\alpha_{n+1} > L\), \(\beta_{n+1} > L + 2 \zeta_{n+1}\). Recall also that \(\alpha_{n+1} < L + 2 \zeta_{n+2}\), and therefore \([L, L + 2\zeta_{n+1}) \backslash (\alpha_{n+1}, \beta_{n+1}) \subseteq [L, L + 2 \zeta_{n+2})\), completing the inductive step.

  Returning to the original problem of making \(F\) not perfect, we will construct a sequence \((r_n)\) which isolates \(\sqrt{2}\). Start with any enumeration of the rational numbers \(q_n\). Our lemma above means we can assign \(r_{3n + 1}\) and \(\epsilon_{3n + 1}\) for \(n \geq 0\) to ensuring \((\sqrt{2}, \sqrt{2} + 2\epsilon_1) \in O\) but \(\sqrt{2}\) itself not in \(O\). Similarly, a slight modification to the lemma lets us assign \(r_{3n + 2}\) and \(\epsilon_{3n + 2}\) for \(n \geq 0\) to ensuring \((\sqrt{2} - 2 \epsilon_2, \sqrt{2}) \in O\) while leaving \(\sqrt{2}\) out. Finally, we assign \(r_{3n+3},\ n \geq 0\) to enumerating through the elements of \(q_n\), skipping over any elements that will be present in \(r_{3n + 1}\) and \(r_{3n + 2}\), and deferring any elements that would cause \(\sqrt{2} \in V(q)\) until \(\epsilon\) becomes small enough that this is no longer the case.

  In this manner, \(\sqrt{2}\) has been surrounded, and \(F= O^c\) will have \(\sqrt{2}\) as an isolated point, and thus \(F\) is not perfect.

We can also construct \((r_n)\) so that \(F\) is perfect. (Note: To simplify the notation a bit let \(V_i = V_{\epsilon_i}(r_i)\).) Define \(R_n = \bigcup^n_{i=1} V_i\), with \(R_0 = \emptyset\). We will rely on the lemma that \(F\) is perfect if for all \(i \in \mathbf{N}\), either \(V_i \cap R_{i-1} = \emptyset\) or \(V_i \subseteq R_{i-1}\). Informally, if \(V_i\) isn't redundant (in that it covers new numbers), then it is disjoint from all previous \(V_i\). To prove this lemma, consider any element \(x \in F\) and let \(\epsilon >0\) be arbitrary. Consider the interval \((x, x + \epsilon)\), and ignore any \(V_p\) if \(V_p \subseteq R_{p-1}\). Since none of \(V_i\) overlap partially, this interval cannot be covered completely by some union of several \(V_i\) since any union would have gaps. Moreover, \((x, x + \epsilon)\) cannot be covered entirely by a single \(V_{\epsilon_j}\), since then \(V_j\) would be centered on \(r_j = i + \epsilon_j\) which is irrational. Thus, there must be some other element \(y \neq i,\ y\in F\) so that \(y \in (x, x + \epsilon)\) and therefore \(x\) is not an isolated point and \(F\) must be perfect.

To construct an \((r_n)\) which satisfies this condition, we start with an arbitrary \((q_n)\). Define \(R_n = \bigcup^n_{i=1} r_i\). For each element of \((q_n)\), we add \(q_i\) to \((r_n)\) only if either \(V_{\epsilon_n}(q_i) \subseteq R_n\) or \(V_{\epsilon_n}(q_i) \cap R_n = \emptyset\). Otherwise, we procrastinate on adding \(q_i\) by appending any rational number \(s > \max(R_n) + 2 \epsilon_n\). Clearly, for any \(q_i\) there will eventually be \(\epsilon_n\) small enough that \(q_i\) can be added to \((r_n)\) without violating our restrictions, and we don't need to worry about \(s\)'s being added since they're far enough away from everything that they can't affect the restrictions.

  }

\end{solution}

