\section{Open and Closed Sets}

% TODO: Make self contained
\begin{exercise}
  \enum{
  \item Where in the proof of Theorem 3.2.3 part (ii) does the assumption that the collection of open sets be finite get used?
  \item Give an example of a countable collection of open sets $\left\{O_{1}, O_{2}, O_{3}, \ldots\right\}$ whose intersection $\bigcap_{n=1}^{\infty} O_{n}$ is closed, not empty and not all of $\mathbf{R}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Taking $\min\{\epsilon_1, \dots, \epsilon_N\}$ is only possible for finite sets.
  \item $O_n = (-1/n, 1 + 1/n)$ has $\bigcap_{n=1}^\infty O_n = [0, 1]$.
  }
\end{solution}

\begin{exercise}
  Let
  $$A=\left\{(-1)^{n}+\frac{2}{n}: n=1,2,3, \ldots\right\} \quad \text { and } \quad B=\{x \in \mathbf{Q}: 0<x<1\}$$
  Answer the following questions for each set:
  \enum{
  \item What are the limit points?
  \item Is the set open? Closed?
  \item Does the set contain any isolated points?
  \item Find the closure of the set.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item The set of $B$'s limit points is $[0, 1]$. The set of $A$'s limit points is $\{1, -1\}$.
  \item
    $B$ is not open since every $(a,b) \not\subseteq B$ and $B$ is not closed since we can construct limits to irrational values outside $B$.
    $A$ is closed since $\{1, -1\} \subseteq A$, but not open as it does not contain any irrationals meaning $(a,b) \not\subseteq A$ for all $a,b \in \mathbf{R}$.
  \item
    Every point of $A$ except the limit points $\{1, -1\}$ is isolated, as if it were not isolated it would be a limit point.
    $B$ has no isolated points since $B \setminus [0, 1] = \emptyset$, or in other words since $B$ is dense in $[0,1]$ every $b \in B \subseteq [0,1]$ can be reached via a limit.
  \item $\closure A = A$ as $A$ is already closed, and $\closure B = B \cup [0,1] = [0,1]$.
  }
\end{solution}

\begin{exercise}
  Decide whether the following sets are open, closed, or neither. If a set is not open, find a point in the set for which there is no $\epsilon$-neighborhood contained in the set. If a set is not closed, find a limit point that is not contained in the set.
  \enum{
  \item $\mathbf{Q}$.
  \item $\mathbf{N}$.
  \item $\{x \in \mathbf{R}: x \neq 0\}$.
  \item $\left\{1+1 / 4+1 / 9+\cdots+1 / n^{2}: n \in \mathbf{N}\right\}$
  \item $\{1+1 / 2+1 / 3+\cdots+1 / n: n \in \mathbf{N}\}$
  }
\end{exercise}

\begin{solution}
  \enum{
  \item
    Neither, not open as $(a,b) \subseteq \mathbf{Q}$ is impossible since $\mathbf{Q}$ contains no irrationals but $(a,b)$ does.
    and not closed since every irrational can be reached as a limit of rationals ($\sqrt 2$ is a simple example).
  \item Clearly not open, but ironically closed since it has no limit points.
  \item Open since every $x \in \{x \in \mathbf{R} : x \ne 0\}$ has an $\epsilon$-neighborhood around it excluding zero. But closed since $(1/n) \to 0$.
  \item
    Neither, not closed, as the limit $\sum_k^n 1/n^2 = \pi^2/6$ is irrational but every term is rational.
    and not open as it does not contain any irrationals.
  \item Closed as it has no limit points, every sequence diverges. Not open because it contains no irrationals.
  }
\end{solution}

\begin{exercise}
  Let $A$ be nonempty and bounded above so that $s=\sup A$ exists.
  \enum{
  \item Show that $s \in \closure{A}$.
  \item Can an open set contain its supremum?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Since every $s - \epsilon$ has an $a \in A$ with $a > s-\epsilon$ we can find $a \in V_\epsilon(s)$ for any $\epsilon > 0$, meaning $s$ is a limit point of $A$ and thus contained in $\closure A$.
  \item No, as $(s, s+\epsilon)$ contains no $a$'s we have $V_\epsilon(s) \not\subseteq A$ for every $\epsilon > 0$.
  }
\end{solution}

\begin{exercise}
  Prove that a set $F \subseteq \mathbf{R}$ is closed \emph{if and only if} every Cauchy sequence contained in $F$ has a limit that is also an element of $F$.
\end{exercise}

\begin{solution}
  Let $F \subseteq \mathbf{R}$ be closed and suppose $(x_n)$ is a Cauchy sequence in $F$, since Cauchy sequences converge $(x_n) \to x$ and finally since $x \in F$ since $F$ contains its limit points.

  Now suppose every Cauchy sequence $(x_n)$ in $F$ converges to a limit in $F$ and let $l$ be a limit point of $F$, as $l$ is a limit point of $F$ there exists a sequence $(y_n)$ in $F$ with $\lim(y_n) = l$.
  since $(y_n)$ converges it must be Cauchy, and since every Cauchy sequence converges to a limit inside $F$ we have $l \in F$.
\end{solution}

\begin{exercise}
  Decide whether the following statements are true or false. Provide counterexamples for those that are false, and supply proofs for those that are true.
  \enum{
  \item An open set that contains every rational number must necessarily be all of $\mathbf{R}$.
  \item The Nested Interval Property remains true if the term ``closed interval'' is replaced by ``closed set.''
  \item Every nonempty open set contains a rational number.
  \item Every bounded infinite closed set contains a rational number.
  \item The Cantor set is closed.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item False, $A = (-\infty, \sqrt 2) \cup (\sqrt 2, \infty)$ contains every rational number but not $\sqrt 2$.
  \item False, $C_n = [n, \infty)$ is closed, has $C_{n+1} \subseteq C_n$ and $C_n \ne \emptyset$ but $\bigcap_{n=1}^\infty C_n = \emptyset$.
  \item True, let $x \in A$ since $A$ is open we have $(a,b) \subseteq A$ with $x \in (a,b)$ the density theorem implies there exists an $r \in \mathbf{Q}$ with $r \in (a,b)$ and thus $r \in A$.
  \item False, $A = \{1/n + \sqrt 2 : n \in \mathbf{N}\} \cup \{\sqrt 2\}$ is closed and contains no rational numbers.
  \item True, as it is the intersection of countably many closed intervals.
  }
\end{solution}

\begin{exercise}
  Given $A \subseteq \mathbf{R}$, let $L$ be the set of all limit points of $A$.
  \enum{
  \item Show that the set $L$ is closed.
  \item Argue that if $x$ is a limit point of $A \cup L$, then $x$ is a limit point of $A$. Use this observation to furnish a proof for Theorem 3.2.12.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Every $x_n \in L$ is $x_n = \lim_{m\to\infty} a_{mn}$ for $a_{mn} \in A$. meaning if $\lim x_n = x \notin L$ then for $n > N$ and $m > M$ we have
    $$
    |a_{mn} - x| \le |a_{mn} - x_n| + |x_n - x| < \epsilon/2 + \epsilon/2 = \epsilon
    $$
    For $n > \max\{N, M\}$ we get $|a_{nn} - x| < \epsilon$ meaning $x \in L$ since $x$ is a limit point of $A$.
  \item Let $x_n \in A \cup L$ and $x = \lim x_n$. since $x_n$ is infinite there must be at least one subsequence $(x_{n_k}) \to x$ which is either all in $A$ or all in $L$.
    If every $x_{n_k} \in L$ then we know $x \in L$ from (a), and if every $x_{n_k} \in A$ then $x \in L$ aswell.
  }
\end{solution}

\begin{exercise}
  Assume $A$ is an open set and $B$ is a closed set. Determine if the following sets are definitely open, definitely closed, both, or neither.
  \enum{
  \item $\overline{A \cup B}$
  \item $A \backslash B=\{x \in A: x \notin B\}$
  \item $\left(A^{c} \cup B\right)^{c}$
  \item $(A \cap B) \cup\left(A^{c} \cap B\right)$
  \item $\closure{A}^{c} \cap \closure{A^{c}}$
  }
\end{exercise}

\begin{solution}
  For all of these keep in mind the only open and closed sets are $\mathbf{R}$ and $\emptyset$, and if $A$ is open $A^c$ is closed and vise versa.
  \enum{
  \item Closed, since the closure of a set is closed.
  \item Open since $B$ being closed implies $B^c$ is open and thus $A \cap B^c$ is open as it is an intersection of open sets.
  \item Demorgan's laws give $(A^c \cup B)^c = A \cap B^c$ which is the same as (b)
  \item Both since $(A \cap B) \cup (A^c \cap B) = \mathbf{R}$
  \item Neither in general. Note that $\closure{A}^c \ne \closure{A^c}$ consider how $A = \{1/n : n \in \mathbf{N}\}$ has $\closure{A^c} = \mathbf{R}$ but $\closure{A}^c \ne \mathbf{R}$.
  }
\end{solution}

\begin{exercise}[De Morgan's Laws]
  A proof for De Morgan's Laws in the case of two sets is outlined in Exercise 1.2.5. The general argument is similar.
  \enum{
  \item Given a collection of sets $\left\{E_{\lambda}: \lambda \in \Lambda\right\}$, show that
    $$
    \left(\bigcup_{\lambda \in \Lambda} E_{\lambda}\right)^{c}=\bigcap_{\lambda \in \Lambda} E_{\lambda}^{c} \quad \text { and } \quad\left(\bigcap_{\lambda \in \Lambda} E_{\lambda}\right)^{c}=\bigcup_{\lambda \in \Lambda} E_{\lambda}^{c}
    $$
  \item Now, provide the details for the proof of Theorem 3.2.14.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item If $x \in \left(\bigcup_{\lambda \in \Lambda} E_\lambda\right)^c$ then $x \notin \bigcup_{\lambda \in \Lambda} E_\lambda$ meaning $x \notin E_\lambda$ for all $\lambda \in \Lambda$ implying $x \in E_\lambda^c$ for all $\lambda\in\Lambda$ and so finally $x \in \bigcap_{\lambda\in\Lambda} E_\lambda^c$. This shows
    $$
    \left(\bigcup_{\lambda\in\Lambda}E_\lambda\right)^c \subseteq \bigcap_{\lambda\in\Lambda} E_\lambda^c
    $$
    To show the reverse inclusion suppose $x \in \bigcap_{\lambda\in\Lambda} E_\lambda^c$ then $x \notin E_\lambda$ for all $\lambda$ meaning $x \notin \bigcup_{\lambda\in\Lambda} E_\lambda$ and so the reverse inclusion
    $$
    \bigcap_{\lambda\in\Lambda} E_\lambda^c \subseteq \left(\bigcup_{\lambda\in\Lambda}E_\lambda\right)^c
    $$
    Is true, completing the proof.
  \item
    Let $F = F_1 \cup F_2$, if $x_n \in F$ and $x = \lim x_n$. Let $(x_{n_k})$ be a subsequence of $(x_n)$ fully contained in $F_1$ or $F_2$. the subsequence $(x_{n_k})$ must also converge to $x$, meaning $x$ is in $F_1$ or $F_2$, the rest is by induction.

    Now let $F = \bigcap_{\lambda\in\Lambda} F_\lambda$
    $$
    F^c = \bigcup_{\lambda\in\Lambda} F_\lambda^c
    $$
    Each $F_\lambda^c$ is open by Theorem 3.2.13, thus Theorem 3.2.3 (ii) implies $F^c$ is open, and so $(F^c)^c = F$ is closed.
  }
\end{solution}

\begin{exercise}
  Only one of the following three descriptions can be realized. Provide an example that illustrates the viable description, and explain why the other two cannot exist.
  \enumr{
  \item A countable set contained in $[0,1]$ with no limit points.
  \item A countable set contained in $[0,1]$ with no isolated points.
  \item A set with an uncountable number of isolated points.
  }
\end{exercise}

\begin{solution}
  \enumr{
  \item Cannot exist because taking any sequence $(x_n)$ BW tells us there exists a convergent subsequence.
  \item $\mathbf Q \cap [0,1]$ is countable and has no isolated points.
  \item Impossible, let $A \subseteq \mathbf{R}$ and let $x$ be an isolated point of $A$. From the definition there exists a $\delta>0$ with $V_\delta(x) \cap A = \{x\}$. in Exercise 1.5.3 we proved there cannot exist an uncountable collection of disjoint open intervals, meaning we cannot have an uncountable set of isolated points as we can map them to open sets in a 1-1 fashion.
  }
\end{solution}

\begin{exercise}
  \enum{
  \item Prove that $\closure{A \cup B} = \closure{A} \cup \closure{B}$.
  \item Does this result about closures extend to infinite unions of sets?
  }
\end{exercise}

\begin{solution}
  \enum{
  \item Recall that the set of limit points of a set is closed (Exercise 3.2.7). Let $L$ be the set of limit points of $A\cup B$ and let $L_a, L_b$ be the set of limit points for $A$ and $B$ respectively.

    Let $x \in L$, thus there exists a sequence $x_n \in A\cup B$ with $x = \lim x_n$, since $(x_n)$ is infinite there exists a subsequence $(x_{n_k})$ where every term is in $A$ or $B$. Thus the limit $\lim (x_{n_k}) = x$ must be a limit point of $A$ or $B$ meaning $x \in L_a \cup L_b$. This shows $\closure{A \cup B} \subseteq \closure{A} \cup \closure{B}$.

    Now let $x \in L_a$ ($L_b$ is the same). there exists a sequence $x_n \in A$ with $x=\lim x_n$, now since $x_n \in A \cup B$ as well, $x \in L$. Thus we have shown $\closure A \cup \closure B \subseteq \closure{A \cup B}$ completing the proof.
  \item False, take $A_n = \{1/n\}$ as a counterexample
    $$
    \closure{\bigcup_{n=1}^\infty A_n} = \{1/n : n \in \mathbf{N}\} \cup \{0\},
    \text{ but }
    \bigcup_{n=1}^\infty \closure{A_n} = \{1/n : n \in \mathbf{N}\}
    $$
  }
\end{solution}

\begin{exercise}
  Let $A$ be an uncountable set and let $B$ be the set of real numbers that divides $A$ into two uncountable sets; that is, $s \in B$ if both $\{x$ : $x \in A$ and $x<s\}$ and $\{x: x \in A$ and $x>s\}$ are uncountable. Show $B$ is nonempty and open.
\end{exercise}

\begin{solution}
  % TODO: Refactor using lemmas, get rid of ugly s = \pm \infty case
  Our primary tool will be that countably infinite unions preserve countability (see Exercise \ref{ex:countable_union}). First we will find an $s \in B$, then we will find a neighborhood with $V_\epsilon(s) \subseteq B$.

  Let $s = \inf \{x \in \mathbf{R} : (-\infty, x) \cap A \text{ is uncountable}\}$, we know $s$ is finite since if $s = \infty$ then every $(-\infty, n) \cap A$ being countable would imply $A$ was countable by \ref{ex:countable_union}.
  And if $s = -\infty$ then every $(-\infty, -n) \cap A$ being uncountable implies $\exists n$ with $(-n, \infty) \cap A$ uncountable as otherwise
  $$
  \bigcup_{n=1}^\infty (-n, \infty) \cap A = A
  $$
  would be countable.

  Now assume $s$ is finite, we know
  $$(-\infty, s) \cap A = \bigcup_{n=1}^\infty (-\infty, s+1/n) \cap A$$
  is countable by \ref{ex:countable_union}. therefore $(s, \infty) \cap A$ must be uncountable.

  The definition of infimum implies $(-\infty, s+\epsilon) \cap A$ is uncountable for all $\epsilon > 0$, We will show there exists an $\epsilon > 0$ with $s+\epsilon \in B$.

  Suppose the converse, if $(s+\epsilon, \infty)$ is countable for all $\epsilon > 0$, then \ref{ex:countable_union} would imply that
  $$\bigcup_{n=1}^\infty (s+1/n, \infty) = (s, \infty)$$
  is countable, which is impossible since it would imply $A$ is countable. therefore there exists an $\epsilon > 0$ with $(s+\epsilon, \infty) \cap A$ uncountable and $(-\infty, s+\epsilon) \cap A$ uncountable, meaning $s+\epsilon \in B$.

  Now we know $B$ is nonempty, pick any $s \in B$ we must show there exists an $\epsilon > 0$ with $V_\epsilon(b) \subseteq B$. If $(-\infty, s) \cap A$ is uncountable we automatically have that $(-\infty, s+\epsilon) \cap A$ is uncountable. Which is true when $\epsilon > 0$ is small enough that $(s+\epsilon, \infty) \cap A$ is uncountable. We can do this using \ref{ex:countable_union} as before.
\end{solution}

\begin{exercise}
  Prove that the only sets that are both open and closed are $\mathbf{R}$ and the empty set $\emptyset$.
\end{exercise}

\begin{solution}
  Let $A \ne \emptyset$ be open and closed, and suppose for contradiction that $A \ne \mathbf R$ and $r \notin A$.

  $A \cap (-\infty, r)$ is open and closed since $A \cap (-\infty, r)$ is an intersection of open sets, and $A \cap (-\infty, r) = A \cap (-\infty, r]$ (since $r \notin A$) is an intersection of closed sets.

  Attempting to take $s = \sup A \cap (-\infty, r)$ gives a contradiction, since $s \in A \cap (-\infty, r)$ (because closed and bounded above) we can find $\epsilon > 0$ with $V_\epsilon(s) \subseteq A \cap (-\infty, r)$ (because open) which contradictions $s$ being an upper bound of $A \cap (-\infty, r)$.

  therefore if $A \ne \emptyset$ we must have $A = \mathbf{R}$. The converse is simple, suppose $A \ne \mathbf{R}$ is open and closed, this happens iff $A^c$ is open and closed, but since $A^c \ne \emptyset$ we have $A^c = \mathbf{R}$ implying $A = \emptyset$.
\end{solution}

\begin{exercise}
  A dual notion to the closure of a set is the \emph{interior} of a set. The interior of $E$ is denoted $E^{\circ}$ and is defined as
  $$
  E^{\circ}=\left\{x \in E: \text { there exists } V_{\epsilon}(x) \subseteq E\right\}
  $$
  Results about closures and interiors possess a useful symmetry.
  \enum{
  \item Show that $E$ is closed if and only if $\closure{E}=E .$ Show that $E$ is open if and only if $E^{\circ}=E$.
  \item Show that $\closure{E}^{c}=\left(E^{c}\right)^{\circ}$, and similarly that $\left(E^{\circ}\right)^{c}=\closure{E^{c}}$.
  }
\end{exercise}

\begin{solution}
  \enum{
  \item
    \enumr{
    \item If $E = \closure E$ then $E$ contains its limit points and so is closed. If $E$ is closed then $E$ contains its limit points so $\closure{E} = E$.
    \item If $E^\circ = E$ then every $x \in E$ has $V_\epsilon(x) \subseteq E$ therefore $E$ is open. If $E$ is open then every $x \in E$ has $V_\epsilon(x) \subseteq E$ therefore $E = E^\circ$.
    }
  \item $x \in \closure{E}^c$ iff $x \notin E$ and $x$ is not a limit point of $E$, $x \in (E^c)^\circ$ iff $x \notin E$ and there exists $V_\epsilon(x) \subseteq E^c$. Notice ``x is not a limit point of $E$'' is equivilant to ``there exists $V_\epsilon(x) \subseteq E^c$'' therefore the sets are the same.

    To show $(E^\circ)^c = \closure{E^c}$ let $D = E^c$ yielding $((D^c)^\circ)^c = \closure{D}$ taking the complement of both sides yields $(D^c)^\circ = \closure{D}^c$ which we showed earlier.
  }
\end{solution}

\begin{exercise}
  A set $A$ is called an $F_{\sigma}$ set if it can be written as the countable union of closed sets. A set $B$ is called a $G_{\delta}$ set if it can be written as the countable intersection of open sets.
  \enum{
  \item Show that a closed interval $[a, b]$ is a $G_{\delta}$ set.
  \item Show that the half-open interval $(a, b]$ is both a $G_{\delta}$ and an $F_{\sigma}$ set.
  \item Show that $\mathbf{Q}$ is an $F_{\sigma}$ set, and the set of irrationals $\mathbf{I}$ forms a $G_{\delta}$ set. (We will see in Section $3.5$ that $\mathbf{Q}$ is not a $G_{\delta}$ set, nor is $\mathbf{I}$ an $F_{\sigma}$ set.)
  }
\end{exercise}

\begin{solution}
  \enum{
  \item $[a,b] = \bigcap_{n=1}^\infty (a-1/n, b+1/n)$
  \item $(a,b] = \bigcap_{n=1}^\infty (a, b+1/n) = \bigcup_{n=1}^\infty [a+1/n, b]$
  \item Let $r_n$ be an enumeration of $\mathbf Q$ (possible since $\mathbf Q$ is countable), we have
    $$\mathbf Q = \bigcup_{n=1}^\infty [r_n, r_n]$$
    Applying demorgan's laws combined with the complement of a closed set being open we get
    $$\mathbf Q^c = \bigcap_{n=1}^\infty [r_n, r_n]^c$$
  }
\end{solution}
